language: node_js
node_js:
- stable
services:
- postgresql
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64>
  ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- npm run test;
after_success:
- npm run coverage
- nyc report --reporter=text-lcov | coveralls
env:
  global:
  - secure: QKD6gKidKq2bObHJk69sB4VXNbewGvbzVC9LkIuC9xTaaW5lfMt6gJCM7Wlnt6REXK+f1Oo8+mTUm3e0mCZpQL4dlOIj8D8aSWrj8xWQ4oJoapEaWlHQ9N8kqWcbgvOnH3jLFswSy9aGhCBaAJwBRkVvR7EQkI9kg26Wf1aNbzdcBTUgvLQMQhBRp/SUZ5bygIg5LeBdoBB6nQlAlJGUtlB7P00HT7m7HL3lufmz11q0Sezt3Hvh7X60cOm2yoGxB2/EJfPuqKvyb4eo21NgTOZKEaN55dUKCgJmFg/+s4XHAIGywDa0ecJ4XlAiDvnVn/sNZKPvz6L00wDrNDPOAkZ/IdWXsphQNmWwcY2PAiQKVDnYdaERsp7QwFtzZI53f8ND5t6x4E0rM88PrQRNcjUrtS4gQmVpdQiX9pae4rJilTDvxan0Pt5HdvvGoATmT+u+6lFQtN5OVfIT22UjpN0+8q5bA7ZlnYToapqANHEW6cs67Gy8pOQfq+YGfE5aw5DaVu7qzvcFrgLtY39ctv6RKpK9z3selkNu+/ATPmnXqPdHQKmVniRXkveqsPoLU9vv/gRkz2WpNB4b8X+XFix5938XkZMLgwxyjpRVYbA0xxMZUflpLut8RBd56HyGeE+QIay4HPS+NXsR/bX693l3Tah3Z+VTvkgfGcHUB/Q=
  - secure: i8QKDVXrDjjnnb+tsvvw4SvP61VBYfSn33dzFrSvGfK9iDyMwAswHkzeo4X89J0NKPzLnJinAwSAYp8ZDNlKzAETnx0Bpot/6eF/BCtJxGoO1G8uqie2K64yK8vXbjli7sM/UHerawadCqdYxId7aIGVgmOj5VMQCI5VQqRQ1GOfk++xbin1MIFNpTpdLbKcO2eRQmx1xJV3nmmfkMafiP+6kP4YxPeZMmUgbbqDQiDszHgq5fiQLXKFzchxguE9J8DRTwYoY0nxaFoHYTUiHY9je0IAd1sCmZum0auS4uVJ0n8cckYF9Bbyo931JO2Vo6LEGA4YconqESrN4RM5GLWzobFO4o+cxuRNFAGA7wRcYtzizk81GzKmI2JV/rz9b+hqof4bso0s5wY1uUh7TnGFTU9R6BZ04cLgryJ3O5Z1wXjJEz/pMAtm2Uj88LBn8BH3tfN8t+MySf6xSLV58/B+zICnd52mIRsbs26tcuvPPwrWTqnGRpIGqEGPTREhN0eHBt/MyYoK8DLFbhbobPa2yRCvyYra2W3q3hAExeiJmKLPQY9gnM+JPRoXxDaV8swgFN2ZUu8q27k584QI6ZtTygeCjPLV9ykkoVzMNg1NOdpKptgZTn+rc8rbUOzPTAbufsOX646GOJOe31aRZk9AvcXo6wqtDG1MMYDaoMY=
  - secure: OXYt2WiWWrz6ksE9x8zFeLNCMfMVXxhROQirVAhXkU7xYNkVqzU2XCNUQjvdqqCQjVeJI9qm1l3NYW9JEyWBJ5Ax3exXeLw+opQO5BGJrHqCvTyb0e0phaNljLsXwabcnI8mat/kA6lahD9qpmR+ty0yxz0V/3b6l/N6PHynUba7zGCMQLsvWZPUlYSLS7H110mfhhSeEMW+v5RoBrIdi/ammLAelRs4SRUiDK/k9/Wgwk8cv7Ry87t1LE3pWpiSsGOFWIkIOYG+eC58+kwRNG+ltSpGIBpNAQKoh2R3rDVXKO++DYcD86R7KRvuhtFM17fEe6hJOxxTA9TJCWb7oe0TszLEk0QIQTqtNbn5h0TQU/vO9VcW8GpCCPwg2vf3jwnLH3wbImT+kEVIvFDPH2GNnBDpsROdSSWGJsEzHZsIGXPiFssuqbLOY5Na8fN7CkS9dI9VeoQ6l3K1Yg7qnq01tpD+4i8xaAQ6uT3xyKoFROyZcX+hOjPin5fWiGO5wlERthPbAtRKLTAAMbYpU9fAA7o9SWj7CC6K3H89s+gRZd4vM0hoLAbCmiFB1zrYfVoY2xiAV3V2Yw4sTpjRv0oUsVQ6Mm1eN/K+FvKf8ZQaDknJ+davcWbyBIQ8PRAi+XAM6NCuUgH9tQljA3arxWVcDq/qnVA3k/zEB650lLM=
  - secure: op06NmpcwzWAFVBBMQNmZ/U9ukEzwUnaUgdiwnshmIotnV1J+4madBW9/JRXxAUM4EiI9vzPQVIZ2RlYUWta8DVPdpKANgMh/kzLHgrYCLwyAoGhIY8uPCzre4wWbpf/zc+ne0sbFrGFJ9k2Y6Eyx9an95wDNhwzI4GJwd3gLVZ1ttLRinTk9+/Z4XyBzU4VRKuP0h/XiYn3czkqHSYhaFOfxPyAPc5Rebxg00wdBuDtQ8jmEXsCsmBo5YFAQASpIUle+B1fAjEFIWFT0jPKIqSIeuOuRNL9fZF2sa2S5oA/1qi+s/zUlP6uty7Ifngn1nKd25+6Xo+IW0x/+D/Z76qNOwhDNDX56cCzZDQLwTmjsMbmV3gk2fR208JF/1GbiFtrN7Go/Syx/dQp3avQ2WsBRbtX4cmIEaCxVLs2ldAJnmzHXQDHjqx/RaYuPdrVnDAcgvO/vW5hVZ96leHO5g/o/Fcuy5I+D72Ynn07x9MmINoadoQYa4nS5xfKhJ8zVVDJR5QwQxFZLICgLIjpB/6smQGZ5j1BE1rdF6fvYDe4lTBOceUH4QKOjxMw4vJJGJZEEiZzhMksU9LSp/1w1C9MbZW4y4V8t0NCq1sRDsxZOaTMlxAVoipR0pmdfEl3R21Yydt+i1JxObYiwpRbNeWMT6ciY9ISL0HCoLcmvOA=
